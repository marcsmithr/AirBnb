{"ast":null,"code":"const LOAD = 'bookings/LOAD';\nconst CREATE = 'bookings/CREATE';\nconst UPDATE = 'bookings/UPDATE';\nconst GET_ONE = 'bookings/GET_ONE';\nconst DELETE = 'bookings/DELETE';\nconst load = bookings => ({\n  type: LOAD,\n  bookings\n});\nexport const allPostsByUser = () => async dispatch => {\n  console.log(\"hello from booking thunk\");\n  const response = await fetch(`/api/bookings/current`);\n  console.log(\"response in booking thunk\", response);\n  if (response.ok) {\n    const {\n      Bookings\n    } = await response.json();\n    console.log(\"\");\n    dispatch(load(Bookings));\n    return Bookings;\n  }\n};\nconst intialState = {\n  allBookings: {},\n  singleBooking: {}\n};\nconst bookingReducer = function () {\n  let state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : intialState;\n  let action = arguments.length > 1 ? arguments[1] : undefined;\n  let newState;\n  switch (action.type) {\n    case LOAD:\n      {\n        newState = {\n          ...state,\n          allBookings: {\n            ...state.allBookings\n          },\n          singleBooking: {\n            ...state.singleBooking\n          }\n        };\n        let bookingPlaceholder = {};\n        action.bookings.forEach(booking => {\n          bookingPlaceholder[booking.id] = booking;\n        });\n        newState.allBookings = bookingPlaceholder;\n        return newState;\n      }\n    default:\n      return state;\n  }\n};\nexport default bookingReducer;","map":{"version":3,"names":["LOAD","CREATE","UPDATE","GET_ONE","DELETE","load","bookings","type","allPostsByUser","dispatch","console","log","response","fetch","ok","Bookings","json","intialState","allBookings","singleBooking","bookingReducer","state","action","newState","bookingPlaceholder","forEach","booking","id"],"sources":["/home/marc/exercise/projects/airbnb/frontend/src/store/bookingReducer.js"],"sourcesContent":["const LOAD = 'bookings/LOAD'\nconst CREATE = 'bookings/CREATE'\nconst UPDATE = 'bookings/UPDATE'\nconst GET_ONE = 'bookings/GET_ONE'\nconst DELETE = 'bookings/DELETE'\n\nconst load = bookings => ({\n    type: LOAD,\n    bookings\n})\n\n\nexport const allPostsByUser = () => async dispatch => {\n    console.log(\"hello from booking thunk\")\n    const response = await fetch (`/api/bookings/current`);\n    console.log(\"response in booking thunk\",response)\n    if(response.ok){\n        const {Bookings} = await response.json()\n        console.log(\"\")\n        dispatch(load(Bookings))\n        return Bookings\n    }\n}\n\n\n\n\nconst intialState = {allBookings:{}, singleBooking: {}}\n\nconst bookingReducer = (state = intialState, action) => {\n    let newState;\n    switch (action.type) {\n        case LOAD: {\n            newState = {...state, allBookings: {...state.allBookings}, singleBooking: {...state.singleBooking}}\n            let bookingPlaceholder = {}\n            action.bookings.forEach(booking => {\n                bookingPlaceholder[booking.id] = booking\n            })\n            newState.allBookings = bookingPlaceholder\n            return newState\n        }\n        default:\n            return state\n    }\n}\n\nexport default bookingReducer\n"],"mappings":"AAAA,MAAMA,IAAI,GAAG,eAAe;AAC5B,MAAMC,MAAM,GAAG,iBAAiB;AAChC,MAAMC,MAAM,GAAG,iBAAiB;AAChC,MAAMC,OAAO,GAAG,kBAAkB;AAClC,MAAMC,MAAM,GAAG,iBAAiB;AAEhC,MAAMC,IAAI,GAAGC,QAAQ,KAAK;EACtBC,IAAI,EAAEP,IAAI;EACVM;AACJ,CAAC,CAAC;AAGF,OAAO,MAAME,cAAc,GAAG,MAAM,MAAMC,QAAQ,IAAI;EAClDC,OAAO,CAACC,GAAG,CAAC,0BAA0B,CAAC;EACvC,MAAMC,QAAQ,GAAG,MAAMC,KAAK,CAAG,uBAAsB,CAAC;EACtDH,OAAO,CAACC,GAAG,CAAC,2BAA2B,EAACC,QAAQ,CAAC;EACjD,IAAGA,QAAQ,CAACE,EAAE,EAAC;IACX,MAAM;MAACC;IAAQ,CAAC,GAAG,MAAMH,QAAQ,CAACI,IAAI,EAAE;IACxCN,OAAO,CAACC,GAAG,CAAC,EAAE,CAAC;IACfF,QAAQ,CAACJ,IAAI,CAACU,QAAQ,CAAC,CAAC;IACxB,OAAOA,QAAQ;EACnB;AACJ,CAAC;AAKD,MAAME,WAAW,GAAG;EAACC,WAAW,EAAC,CAAC,CAAC;EAAEC,aAAa,EAAE,CAAC;AAAC,CAAC;AAEvD,MAAMC,cAAc,GAAG,YAAiC;EAAA,IAAhCC,KAAK,uEAAGJ,WAAW;EAAA,IAAEK,MAAM;EAC/C,IAAIC,QAAQ;EACZ,QAAQD,MAAM,CAACf,IAAI;IACf,KAAKP,IAAI;MAAE;QACPuB,QAAQ,GAAG;UAAC,GAAGF,KAAK;UAAEH,WAAW,EAAE;YAAC,GAAGG,KAAK,CAACH;UAAW,CAAC;UAAEC,aAAa,EAAE;YAAC,GAAGE,KAAK,CAACF;UAAa;QAAC,CAAC;QACnG,IAAIK,kBAAkB,GAAG,CAAC,CAAC;QAC3BF,MAAM,CAAChB,QAAQ,CAACmB,OAAO,CAACC,OAAO,IAAI;UAC/BF,kBAAkB,CAACE,OAAO,CAACC,EAAE,CAAC,GAAGD,OAAO;QAC5C,CAAC,CAAC;QACFH,QAAQ,CAACL,WAAW,GAAGM,kBAAkB;QACzC,OAAOD,QAAQ;MACnB;IACA;MACI,OAAOF,KAAK;EAAA;AAExB,CAAC;AAED,eAAeD,cAAc"},"metadata":{},"sourceType":"module","externalDependencies":[]}